<!--
Copyright (c) 2024 Martin Bechard <martin.bechard@DevConsult.ca>
This software is licensed under the MIT License.
File: /Users/martinbechard/dev/mcp-perplexity/design/tool-registration-flow.mmd
This was generated by Claude Sonnet 3.5, with the assistance of my human mentor

Flow diagram for tool registration handling
Flowcharts: Making complex processes look deceptively simple!
-->

sequenceDiagram
    participant Claude as Claude
    participant Server as PerplexityServer
    participant Handler as MessageHandler
    participant Logger as Logger

    Claude->>Server: list_tools request
    Server->>Handler: Process list_tools
    Handler->>Logger: Log request
    Handler->>Handler: Build tool list
    Handler->>Server: Return tool definitions
    Server->>Claude: Tool list response