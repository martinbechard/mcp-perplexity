<!--
Copyright (c) 2024 Martin Bechard <martin.bechard@DevConsult.ca>
This software is licensed under the MIT License.
File: /Users/martinbechard/dev/mcp-perplexity/design/Constants.md
This was generated by Claude Sonnet 3.5, with the assistance of my human mentor

Design document for Constants definitions used throughout the Perplexity MCP server
API constants: The foundation that keeps our service steady!
-->

# Table of Contents
- Const: API_CONSTANTS

---
# Const: API_CONSTANTS

## Overview
Frozen object containing all API-related constants including URLs, timeouts, and limits

## Design Requirements
1. MUST be implemented as a frozen object to prevent modification
   Source: TypeScript best practices for configuration constants
2. MUST include all required Perplexity API configuration values
   Source: Perplexity API documentation
3. MUST define proper types for all values
   Source: TypeScript type safety requirements

## Design Considerations
1. Environment Variable Integration
   - WHY: Allows configuration through environment while providing defaults
   - HOW: Use process.env with fallbacks for each value
   - EXAMPLE:
     ```typescript
     BASE_URL: process.env.PERPLEXITY_API_URL ?? "https://api.perplexity.ai"
     ```

2. Type Definition
   - WHY: Ensures type safety when using constants
   - HOW: Define specific types for each constant category
   - EXAMPLE:
     ```typescript
     export interface ApiConstants {
       readonly BASE_URL: string;
       readonly DEFAULT_MODEL: string;
       // etc
     }
     ```

## Attributes
```typescript
interface ApiConstants {
    readonly BASE_URL: string;
    readonly API_VERSION: string;
    readonly DEFAULT_MODEL: string;
    readonly TIMEOUT_MS: number;
    readonly MAX_RETRIES: number;
    readonly RETRY_DELAY_MS: number;
    readonly DEFAULT_TEMPERATURE: number;
    readonly DEFAULT_TOP_P: number;
    readonly DEFAULT_TOP_K: number;
    readonly MAX_SEARCH_DOMAINS: number;
}

const API_CONSTANTS: ApiConstants = Object.freeze({
    BASE_URL: process.env.PERPLEXITY_API_URL ?? "https://api.perplexity.ai",
    API_VERSION: "1.0",
    DEFAULT_MODEL: "llama-3.1-sonar-small-128k-online",
    TIMEOUT_MS: 30000,
    MAX_RETRIES: 3,
    RETRY_DELAY_MS: 1000,
    DEFAULT_TEMPERATURE: 0.2,
    DEFAULT_TOP_P: 0.9,
    DEFAULT_TOP_K: 0,
    MAX_SEARCH_DOMAINS: 3
})
```