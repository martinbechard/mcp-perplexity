/*
* Copyright (c) 2024 Martin Bechard <martin.bechard@DevConsult.ca>
* This software is licensed under the MIT License.
* File: /Users/martinbechard/dev/mcp-perplexity/src/types/PerplexityTypes.ts
* This was generated by Claude Sonnet 3.5, with the assistance of my human mentor
*
* Type definitions for the Perplexity API
* Because any isn't a type, it's a warning sign! ⚠️
*/

/**
 * Represents a message in the chat conversation
 */
export type Message = {
    /** The role of the message sender */
    role: 'system' | 'user';
    
    /** The content of the message */
    content: string;
}

/**
 * Token usage statistics for the completion
 */
export type Usage = {
    /** Number of tokens in the prompt */
    promptTokens: number;

    /** Number of tokens in the completion */
    completionTokens: number;

    /** Total tokens used */
    totalTokens: number;
}

/**
 * Represents a single completion choice
 */
export type Choice = {
    /** Index of this choice in the array */
    index: number;

    /** Reason why the model stopped generating */
    finishReason: 'stop' | 'length';

    /** The generated message */
    message: Message;

    /** Streamed next tokens (only when streaming) */
    delta?: {
        role?: string;
        content?: string;
    };
}

/**
 * Response from the Perplexity chat completion API
 */
export type ChatCompletionResponse = {
    /** Unique identifier for the response */
    id: string;

    /** Model used for completion */
    model: string;

    /** Object type identifier */
    object: string;

    /** Unix timestamp of creation */
    created: number;

    /** Array of citation URLs used in response */
    citations: string[];

    /** Array of completion choices */
    choices: Choice[];

    /** Token usage statistics */
    usage: Usage;
}